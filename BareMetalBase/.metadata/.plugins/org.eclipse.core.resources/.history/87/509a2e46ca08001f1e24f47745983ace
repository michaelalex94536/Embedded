/*
 * The user pushbutton is connected to PC13 - Port C, pin 13
 */

#include "stm32f4xx.h"

#define GPIOAEN			(1U << 0)
#define GPIOCEN			(1U << 2)
#define PIN5			(1U << 5)
#define LED_PIN			PIN5
#define PIN13			(1U << 13)
#define BTN_PIN			PIN13

int main(void)
{

	uint32_t input_data = 0;

	// Enable GPIOA and GPIOC clocks
	RCC->AHB1ENR |= (GPIOCEN | GPIOAEN);

	// Set Pin 13 as an input
	GPIOC->MODER &= ~(1U << 26);
	GPIOC->MODER &= ~(1U << 27);

	while(1)
	{
		input_data = GPIOC->(IDR & (1U << 13));
	}
}
